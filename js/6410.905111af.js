"use strict";(self["webpackChunkresep_bunda"]=self["webpackChunkresep_bunda"]||[]).push([[6410],{3671:(n,t,e)=>{var r=e(9662),u=e(7908),a=e(8361),l=e(6244),i=TypeError,o=function(n){return function(t,e,o,c){r(e);var s=u(t),f=a(s),d=l(s),m=n?d-1:0,v=n?-1:1;if(o<2)while(1){if(m in f){c=f[m],m+=v;break}if(m+=v,n?m<0:d<=m)throw i("Reduce of empty array with no initial value")}for(;n?m>=0:d>m;m+=v)m in f&&(c=e(c,f[m],m,s));return c}};n.exports={left:o(!1),right:o(!0)}},5827:(n,t,e)=>{var r=e(2109),u=e(3671).left,a=e(2133),l=e(7392),i=e(5268),o=!i&&l>79&&l<83,c=o||!a("reduce");r({target:"Array",proto:!0,forced:c},{reduce:function(n){var t=arguments.length;return u(this,n,t,t>1?arguments[1]:void 0)}})},6977:(n,t,e)=>{var r=e(2109),u=e(1702),a=e(9303),l=e(863),i=e(8415),o=e(7293),c=RangeError,s=String,f=Math.floor,d=u(i),m=u("".slice),v=u(1..toFixed),w=function(n,t,e){return 0===t?e:t%2===1?w(n,t-1,e*n):w(n*n,t/2,e)},p=function(n){var t=0,e=n;while(e>=4096)t+=12,e/=4096;while(e>=2)t+=1,e/=2;return t},g=function(n,t,e){var r=-1,u=e;while(++r<6)u+=t*n[r],n[r]=u%1e7,u=f(u/1e7)},h=function(n,t){var e=6,r=0;while(--e>=0)r+=n[e],n[e]=f(r/t),r=r%t*1e7},_=function(n){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==n[t]){var r=s(n[t]);e=""===e?r:e+d("0",7-r.length)+r}return e},U=o((function(){return"0.000"!==v(8e-5,3)||"1"!==v(.9,0)||"1.25"!==v(1.255,2)||"1000000000000000128"!==v(0xde0b6b3a7640080,0)}))||!o((function(){v({})}));r({target:"Number",proto:!0,forced:U},{toFixed:function(n){var t,e,r,u,i=l(this),o=a(n),f=[0,0,0,0,0,0],v="",U="0";if(o<0||o>20)throw c("Incorrect fraction digits");if(i!==i)return"NaN";if(i<=-1e21||i>=1e21)return s(i);if(i<0&&(v="-",i=-i),i>1e-21)if(t=p(i*w(2,69,1))-69,e=t<0?i*w(2,-t,1):i/w(2,t,1),e*=4503599627370496,t=52-t,t>0){g(f,0,e),r=o;while(r>=7)g(f,1e7,0),r-=7;g(f,w(10,r,1),0),r=t-1;while(r>=23)h(f,1<<23),r-=23;h(f,1<<r),g(f,1,1),h(f,2),U=_(f)}else g(f,0,e),g(f,1<<-t,0),U=_(f)+d("0",o);return o>0?(u=U.length,U=v+(u<=o?"0."+d("0",o-u)+U:m(U,0,u-o)+"."+m(U,u-o))):U=v+U,U}})},6410:(n,t,e)=>{e.r(t),e.d(t,{default:()=>H});var r=e(124),u=e(3144),a=e(8534),l=e(9584),i=(e(5827),e(1539),e(1249),e(9554),e(4747),e(2707),e(3710),e(7658),e(6977),e(6252)),o=e(2262),c=e(3577),s=e(4797),f=e(8903),d=e(2201),m=e(6100),v=e(316),w=e(5856),p=function(n){return(0,i.dD)("data-v-39b42944"),n=n(),(0,i.Cn)(),n},g={key:0,class:"loading-container"},h=p((function(){return(0,i._)("p",null,"Memuat raport...",-1)})),_={key:1,class:"report-container"},U=["src"],b={class:"performance-grid"},k={class:"performance-item"},S={class:"performance-value"},y=p((function(){return(0,i._)("div",{class:"performance-label"},"Rata-Rata",-1)})),W={class:"performance-item"},x={class:"performance-value"},D=p((function(){return(0,i._)("div",{class:"performance-label"},"Skor Tertinggi",-1)})),I={class:"performance-item"},M={class:"performance-value"},N=p((function(){return(0,i._)("div",{class:"performance-label"},"Total Ujian",-1)})),P={class:"skill-chart"},Z={class:"skill-label"},T={class:"skill-bar-background"},j={class:"skill-value"},F={key:2,class:"empty-state"},R=p((function(){return(0,i._)("h3",null,"Belum ada data raport",-1)})),z=p((function(){return(0,i._)("p",null,"Silakan ikuti ujian terlebih dahulu",-1)}));const B={__name:"RaportPage",setup:function(n){var t=(0,d.tv)(),e=(0,m.ad)(w.H),p=(0,v.v0)(w.H),B=(0,o.iH)(!0),L=(0,o.iH)([]),A=(0,o.iH)(null),H=(0,o.iH)(""),C=(0,i.Fl)((function(){if(0===L.value.length)return 0;var n=L.value.reduce((function(n,t){return n+t.score}),0);return n/L.value.length})),q=(0,i.Fl)((function(){return 0===L.value.length?0:Math.max.apply(Math,(0,l.Z)(L.value.map((function(n){return n.score}))))})),E=(0,i.Fl)((function(){var n={tps:{total:0,count:0},mm:{total:0,count:0},lbind:{total:0,count:0},lbing:{total:0,count:0}};return L.value.forEach((function(t){t.scoreTPS&&(n.tps.total+=t.scoreTPS,n.tps.count++),t.scoreMM&&(n.mm.total+=t.scoreMM,n.mm.count++),t.scoreLBIND&&(n.lbind.total+=t.scoreLBIND,n.lbind.count++),t.scoreLBING&&(n.lbing.total+=t.scoreLBING,n.lbing.count++)})),{tps:n.tps.count>0?n.tps.total/n.tps.count:0,mm:n.mm.count>0?n.mm.total/n.mm.count:0,lbind:n.lbind.count>0?n.lbind.total/n.lbind.count:0,lbing:n.lbing.count>0?n.lbing.total/n.lbing.count:0}})),G=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(){var t,a,l,i;return(0,r.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t=p.currentUser,t){n.next=3;break}return n.abrupt("return");case 3:return n.prev=3,n.next=6,(0,m.QT)((0,m.JU)(e,"users",t.uid));case 6:return a=n.sent,a.exists()&&(H.value=a.data().fullName||"Pengguna",A.value=a.data().photoURL),l=(0,m.IO)((0,m.hJ)(e,"examResults/".concat(t.uid,"/results")),(0,m.ar)("score",">",0)),n.next=11,(0,m.PL)(l);case 11:i=n.sent,L.value=i.docs.map((function(n){return(0,u.Z)({id:n.id},n.data())})).sort((function(n,t){var e,r;return(null===(e=t.createdAt)||void 0===e?void 0:e.seconds)-(null===(r=n.createdAt)||void 0===r?void 0:r.seconds)})),n.next=18;break;case 15:n.prev=15,n.t0=n["catch"](3),console.error("Error fetching exam results:",n.t0);case 18:return n.prev=18,B.value=!1,n.finish(18);case 21:case"end":return n.stop()}}),n,null,[[3,15,18,21]])})));return function(){return n.apply(this,arguments)}}(),J=function(n){if(null===n||void 0===n||!n.seconds)return"Tanggal tidak tersedia";var t=new Date(1e3*n.seconds);return t.toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},K=function(n){return n>=80?"success":n>=60?"warning":"danger"},O=function(n){var t={tps:"TPS",mm:"Matematika",lbind:"Literasi B. Indo",lbing:"Literasi B. Inggris"};return t[n]||n},Q=function(n){return n>=80?"skill-high":n>=60?"skill-medium":"skill-low"},Y=function(n){t.push("/exam-detail/".concat(n))},$=function(){t.push("/exams")};return(0,i.bv)((function(){G()})),function(n,t){return(0,i.wg)(),(0,i.j4)((0,o.SU)(s._i),null,{default:(0,i.w5)((function(){return[(0,i.Wm)((0,o.SU)(s.Gu),{mode:"ios"},{default:(0,i.w5)((function(){return[(0,i.Wm)((0,o.SU)(s.sr),null,{default:(0,i.w5)((function(){return[(0,i.Wm)((0,o.SU)(s.wd),null,{default:(0,i.w5)((function(){return[(0,i.Uk)("Raport Ujian SNBT")]})),_:1}),(0,i.Wm)((0,o.SU)(s.oU),{slot:"start","default-href":"/"})]})),_:1})]})),_:1}),(0,i.Wm)((0,o.SU)(s.W2),{fullscreen:!0,class:"report-content"},{default:(0,i.w5)((function(){return[B.value?((0,i.wg)(),(0,i.iD)("div",g,[(0,i.Wm)((0,o.SU)(s.PQ),{name:"crescent"}),h])):L.value.length>0?((0,i.wg)(),(0,i.iD)("div",_,[(0,i.Wm)((0,o.SU)(s.PM),{class:"profile-card"},{default:(0,i.w5)((function(){return[(0,i.Wm)((0,o.SU)(s.Zi),null,{default:(0,i.w5)((function(){return[(0,i.Wm)((0,o.SU)(s.Dq),null,{default:(0,i.w5)((function(){return[(0,i.Wm)((0,o.SU)(s.BJ),{class:"profile-avatar"},{default:(0,i.w5)((function(){return[(0,i._)("img",{src:A.value||"https://ionicframework.com/docs/img/demos/avatar.svg",alt:"User Photo"},null,8,U)]})),_:1}),(0,i.Uk)(" "+(0,c.zw)(H.value),1)]})),_:1}),(0,i.Wm)((0,o.SU)(s.tO),null,{default:(0,i.w5)((function(){return[(0,i.Uk)("Raport Try Out SNBT")]})),_:1})]})),_:1})]})),_:1}),(0,i.Wm)((0,o.SU)(s.PM),{class:"summary-card"},{default:(0,i.w5)((function(){return[(0,i.Wm)((0,o.SU)(s.Zi),null,{default:(0,i.w5)((function(){return[(0,i.Wm)((0,o.SU)(s.Dq),null,{default:(0,i.w5)((function(){return[(0,i.Uk)("Ringkasan Performa")]})),_:1})]})),_:1}),(0,i.Wm)((0,o.SU)(s.FN),null,{default:(0,i.w5)((function(){return[(0,i._)("div",b,[(0,i._)("div",k,[(0,i._)("div",S,(0,c.zw)(C.value.toFixed(2)),1),y]),(0,i._)("div",W,[(0,i._)("div",x,(0,c.zw)(q.value),1),D]),(0,i._)("div",I,[(0,i._)("div",M,(0,c.zw)(L.value.length),1),N])])]})),_:1})]})),_:1}),(0,i.Wm)((0,o.SU)(s.PM),{class:"history-card"},{default:(0,i.w5)((function(){return[(0,i.Wm)((0,o.SU)(s.Zi),null,{default:(0,i.w5)((function(){return[(0,i.Wm)((0,o.SU)(s.Dq),null,{default:(0,i.w5)((function(){return[(0,i.Uk)("Riwayat Ujian")]})),_:1})]})),_:1}),(0,i.Wm)((0,o.SU)(s.FN),null,{default:(0,i.w5)((function(){return[(0,i.Wm)((0,o.SU)(s.q_),{lines:"none"},{default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(L.value,(function(n,t){return(0,i.wg)(),(0,i.j4)((0,o.SU)(s.Ie),{key:t,onClick:function(t){return Y(n.jadwalId)},class:"exam-item"},{default:(0,i.w5)((function(){return[(0,i.Wm)((0,o.SU)(s.Q$),null,{default:(0,i.w5)((function(){return[(0,i._)("h3",null,"Ujian #"+(0,c.zw)(L.value.length-t),1),(0,i._)("p",null,(0,c.zw)(J(n.createdAt)),1)]})),_:2},1024),(0,i.Wm)((0,o.SU)(s.yp),{slot:"end",color:K(n.score)},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,c.zw)(n.score.toFixed(2)),1)]})),_:2},1032,["color"])]})),_:2},1032,["onClick"])})),128))]})),_:1})]})),_:1})]})),_:1}),(0,i.Wm)((0,o.SU)(s.PM),{class:"skills-card"},{default:(0,i.w5)((function(){return[(0,i.Wm)((0,o.SU)(s.Zi),null,{default:(0,i.w5)((function(){return[(0,i.Wm)((0,o.SU)(s.Dq),null,{default:(0,i.w5)((function(){return[(0,i.Uk)("Analisis Kemampuan")]})),_:1})]})),_:1}),(0,i.Wm)((0,o.SU)(s.FN),null,{default:(0,i.w5)((function(){return[(0,i._)("div",P,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(E.value,(function(n,t){return(0,i.wg)(),(0,i.iD)("div",{key:t,class:"skill-bar-container"},[(0,i._)("div",Z,(0,c.zw)(O(t)),1),(0,i._)("div",T,[(0,i._)("div",{class:(0,c.C_)(["skill-bar-fill",Q(n)]),style:(0,c.j5)({width:n+"%"})},null,6),(0,i._)("div",j,(0,c.zw)(n.toFixed(1))+"%",1)])])})),128))])]})),_:1})]})),_:1})])):((0,i.wg)(),(0,i.iD)("div",F,[(0,i.Wm)((0,o.SU)(s.gu),{icon:(0,o.SU)(f.L82),size:"large"},null,8,["icon"]),R,z,(0,i.Wm)((0,o.SU)(s.YG),{fill:"solid",onClick:$},{default:(0,i.w5)((function(){return[(0,i.Uk)("Mulai Ujian")]})),_:1})]))]})),_:1})]})),_:1})}}};var L=e(3744);const A=(0,L.Z)(B,[["__scopeId","data-v-39b42944"]]),H=A},9584:(n,t,e)=>{e.d(t,{Z:()=>o});e(9753);var r=e(9227);function u(n){if(Array.isArray(n))return(0,r.Z)(n)}e(2526),e(1817),e(1539),e(2165),e(8783),e(3948),e(1038);function a(n){if("undefined"!==typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}var l=e(2780);e(1703),e(6647);function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(n){return u(n)||a(n)||(0,l.Z)(n)||i()}}}]);
//# sourceMappingURL=6410.905111af.js.map