"use strict";(self["webpackChunkresep_bunda"]=self["webpackChunkresep_bunda"]||[]).push([[2245],{2245:(a,e,n)=>{n.r(e),n.d(e,{default:()=>k});var t=n(3144),r=n(124),u=n(8534),l=(n(1249),n(8309),n(9826),n(1539),n(2564),n(6252)),i=n(2262),o=n(3577),c=n(4797),s=n(6100),d=n(5856),f=function(a){return(0,l.dD)("data-v-37530ae2"),a=a(),(0,l.Cn)(),a},m=f((function(){return(0,l._)("h2",null,"Daftar Mata Pelajaran",-1)})),p=f((function(){return(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"Nama Mata Pelajaran"),(0,l._)("th",null,"Kelas"),(0,l._)("th",null,"Aksi")])],-1)}));const v={__name:"TambahMatePelajaran",setup:function(a){var e=(0,i.iH)([]),n=(0,i.iH)(""),f=(0,i.iH)(""),v=function(){var a=(0,u.Z)((0,r.Z)().mark((function a(){var n;return(0,r.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,(0,s.PL)((0,s.hJ)(h,"kelas"));case 3:n=a.sent,e.value=n.docs.map((function(a){return{id:a.id,name:a.data().name}})),a.next=11;break;case 7:a.prev=7,a.t0=a["catch"](0),console.error("Error fetching classes:",a.t0),H("Terjadi kesalahan saat mengambil data kelas.","danger");case 11:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(){return a.apply(this,arguments)}}(),h=(0,s.ad)(d.H),w=(0,i.iH)(""),k=(0,i.iH)([]),U=(0,i.iH)({isOpen:!1,message:"",duration:2e3,color:"success"}),_=(0,i.iH)(!1),b=(0,i.iH)(""),g=(0,i.iH)(""),W=function(){var a=(0,u.Z)((0,r.Z)().mark((function a(){var e;return(0,r.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,(0,s.PL)((0,s.hJ)(h,"mataPelajaran"));case 3:e=a.sent,k.value=e.docs.map((function(a){return(0,t.Z)({id:a.id},a.data())})),a.next=11;break;case 7:a.prev=7,a.t0=a["catch"](0),console.error("Error fetching subjects:",a.t0),H("Terjadi kesalahan saat mengambil data mata pelajaran.","danger");case 11:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(){return a.apply(this,arguments)}}(),S=function(){var a=e.value.find((function(a){return a.id===n.value}));f.value=a?a.name:""},j=function(){var a=(0,u.Z)((0,r.Z)().mark((function a(){return(0,r.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(console.log("Selected Class:",n.value),n.value){a.next=4;break}return H("Kelas harus dipilih","danger"),a.abrupt("return");case 4:if(w.value){a.next=7;break}return H("Nama mata pelajaran tidak boleh kosong","danger"),a.abrupt("return");case 7:return a.prev=7,a.next=10,(0,s.ET)((0,s.hJ)(h,"mataPelajaran"),{name:w.value,kelas:f.value,classId:n.value,createdAt:(0,s.Bt)()});case 10:H("Mata pelajaran berhasil ditambahkan","success"),w.value="",n.value="",W(),a.next=20;break;case 16:a.prev=16,a.t0=a["catch"](7),console.error("Error adding subject:",a.t0),H("Terjadi kesalahan saat menambahkan mata pelajaran","danger");case 20:case"end":return a.stop()}}),a,null,[[7,16]])})));return function(){return a.apply(this,arguments)}}(),x=function(a){b.value=a.name,g.value=a.id,_.value=!0},P=function(){_.value=!1,b.value="",g.value=""},Z=function(){var a=(0,u.Z)((0,r.Z)().mark((function a(){return(0,r.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(b.value){a.next=3;break}return H("Nama mata pelajaran tidak boleh kosong","danger"),a.abrupt("return");case 3:return a.prev=3,a.next=6,(0,s.r7)((0,s.JU)(h,"mataPelajaran",g.value),{name:b.value});case 6:H("Mata pelajaran berhasil diperbarui","success"),P(),W(),a.next=15;break;case 11:a.prev=11,a.t0=a["catch"](3),console.error("Error updating subject:",a.t0),H("Terjadi kesalahan saat memperbarui mata pelajaran","danger");case 15:case"end":return a.stop()}}),a,null,[[3,11]])})));return function(){return a.apply(this,arguments)}}(),C=function(){var a=(0,u.Z)((0,r.Z)().mark((function a(e){return(0,r.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,(0,s.oe)((0,s.JU)(h,"mataPelajaran",e));case 3:H("Mata pelajaran berhasil dihapus","success"),W(),a.next=11;break;case 7:a.prev=7,a.t0=a["catch"](0),console.error("Error deleting subject:",a.t0),H("Terjadi kesalahan saat menghapus mata pelajaran","danger");case 11:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}(),H=function(a,e){U.value={isOpen:!0,message:a,duration:2e3,color:e}},M=function(a){setTimeout((function(){W(),a.target.complete()}),2e3)};return(0,l.bv)((function(){W(),v()})),function(a,t){var r=(0,l.up)("ion-buttons");return(0,l.wg)(),(0,l.j4)((0,i.SU)(c._i),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.Gu),{mode:"ios"},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.sr),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.wd),null,{default:(0,l.w5)((function(){return[(0,l.Uk)("Tambah Mata Pelajaran")]})),_:1}),(0,l.Wm)((0,i.SU)(c.oU),{slot:"start","default-href":"/"})]})),_:1})]})),_:1}),(0,l.Wm)((0,i.SU)(c.W2),{fullscreen:!0},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.nJ),{slot:"fixed",onIonRefresh:t[0]||(t[0]=function(a){return M(a)})},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.Wo))]})),_:1}),(0,l.Wm)((0,i.SU)(c.W2),{class:"ion-padding"},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.Ie),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.Q$),{position:"floating"},{default:(0,l.w5)((function(){return[(0,l.Uk)("Pilih Kelas")]})),_:1}),(0,l.Wm)((0,i.SU)(c.t9),{modelValue:n.value,"onUpdate:modelValue":t[1]||(t[1]=function(a){return n.value=a}),placeholder:"Pilih Kelas",onIonChange:S},{default:(0,l.w5)((function(){return[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.value,(function(a){return(0,l.wg)(),(0,l.j4)((0,i.SU)(c.n0),{key:a.id,value:a.id},{default:(0,l.w5)((function(){return[(0,l.Uk)((0,o.zw)(a.name),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),(0,l.Wm)((0,i.SU)(c.Ie),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.Q$),{position:"floating"},{default:(0,l.w5)((function(){return[(0,l.Uk)("Nama Mata Pelajaran")]})),_:1}),(0,l.Wm)((0,i.SU)(c.pK),{modelValue:w.value,"onUpdate:modelValue":t[2]||(t[2]=function(a){return w.value=a}),placeholder:"Masukkan nama mata pelajaran"},null,8,["modelValue"])]})),_:1}),(0,l.Wm)((0,i.SU)(c.YG),{expand:"block",onClick:j,style:{color:"white"}},{default:(0,l.w5)((function(){return[(0,l.Uk)("Tambah Mata Pelajaran")]})),_:1}),(0,l.Wm)((0,i.SU)(c.jY),{class:"ion-padding"},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.Nd),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.wI),null,{default:(0,l.w5)((function(){return[m,(0,l._)("table",null,[p,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(k.value,(function(a){return(0,l.wg)(),(0,l.iD)("tr",{key:a.id},[(0,l._)("td",null,(0,o.zw)(a.name),1),(0,l._)("td",null,(0,o.zw)(a.kelas),1),(0,l._)("td",null,[(0,l.Wm)((0,i.SU)(c.YG),{color:"warning",onClick:function(e){return x(a)}},{default:(0,l.w5)((function(){return[(0,l.Uk)("Edit")]})),_:2},1032,["onClick"]),(0,l.Wm)((0,i.SU)(c.YG),{color:"danger",onClick:function(e){return C(a.id)}},{default:(0,l.w5)((function(){return[(0,l.Uk)("Hapus")]})),_:2},1032,["onClick"])])])})),128))])])]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,l.Wm)((0,i.SU)(c.ki),{"is-open":_.value,onDidDismiss:P},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.Gu),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.sr),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.wd),null,{default:(0,l.w5)((function(){return[(0,l.Uk)("Edit Mata Pelajaran")]})),_:1}),(0,l.Wm)(r,{slot:"end"},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.YG),{onClick:P},{default:(0,l.w5)((function(){return[(0,l.Uk)("Close")]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,l.Wm)((0,i.SU)(c.W2),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.Ie),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.Q$),{position:"floating"},{default:(0,l.w5)((function(){return[(0,l.Uk)("Nama Mata Pelajaran")]})),_:1}),(0,l.Wm)((0,i.SU)(c.pK),{modelValue:b.value,"onUpdate:modelValue":t[3]||(t[3]=function(a){return b.value=a})},null,8,["modelValue"])]})),_:1}),(0,l.Wm)((0,i.SU)(c.YG),{expand:"block",onClick:Z},{default:(0,l.w5)((function(){return[(0,l.Uk)("Simpan Perubahan")]})),_:1})]})),_:1})]})),_:1},8,["is-open"]),(0,l.Wm)((0,i.SU)(c.Px),{"is-open":U.value.isOpen,message:U.value.message,duration:U.value.duration,color:U.value.color,onDidDismiss:t[4]||(t[4]=function(){return U.value.isOpen=!1})},null,8,["is-open","message","duration","color"])]})),_:1})]})),_:1})}}};var h=n(3744);const w=(0,h.Z)(v,[["__scopeId","data-v-37530ae2"]]),k=w}}]);
//# sourceMappingURL=2245.560a9f17.js.map