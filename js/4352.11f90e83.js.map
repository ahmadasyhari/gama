{"version":3,"file":"js/4352.11f90e83.js","mappings":"2wBAiGA,IAAMA,GAAKC,EAAAA,EAAAA,IAAaC,EAAAA,GAClBC,GAAOC,EAAAA,EAAAA,IAAQF,EAAAA,GACfG,GAAQC,EAAAA,EAAAA,MACRC,GAAWC,EAAAA,EAAAA,IAAIH,EAAMI,OAAOF,UAC5BG,GAAYF,EAAAA,EAAAA,IAAI,IAChBG,GAAcH,EAAAA,EAAAA,IAAI,IAClBI,GAAuBJ,EAAAA,EAAAA,IAAI,GAE3BK,GAAYL,EAAAA,EAAAA,KAAI,GAChBM,GAAcN,EAAAA,EAAAA,KAAI,GAElBO,EAAc,eAAAC,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAC,IAAA,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAP,EAAAA,EAAAA,KAAAQ,MAAA,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAEI,OAFJF,EAAAC,KAAA,EAEnBf,EAAUiB,OAAQ,EAAKH,EAAAE,KAAA,GACCE,EAAAA,EAAAA,KAAOC,EAAAA,EAAAA,IAAIhC,EAAI,aAAcO,EAASuB,QAAO,OAAtD,GAATT,EAASM,EAAAM,MACXZ,EAAUa,SAAU,CAAFP,EAAAE,KAAA,SACe,OAA7BP,EAAaD,EAAUc,OAAMR,EAAAE,KAAA,GACHO,EAAAA,EAAAA,KAAQC,EAAAA,EAAAA,IAAWrC,EAAI,aAAY,OAStC,GATvBuB,EAAiBI,EAAAM,KACvBvB,EAAUoB,MAAQP,EAAkBe,KACjCC,KAAI,SAACP,GAAG,OAAAQ,EAAAA,EAAAA,GAAA,CACPC,GAAIT,EAAIS,IACLT,EAAIG,OAAM,IAEdO,QAAO,SAACC,GAAQ,OAAKrB,EAAWsB,MAAQtB,EAAWsB,KAAKC,SAASF,EAASF,GAAG,IAG1EjB,EAAOrB,EAAK2C,aACdtB,EAAM,CAAFG,EAAAE,KAAA,gBAAAF,EAAAE,KAAA,IACmBE,EAAAA,EAAAA,KAAOC,EAAAA,EAAAA,IAAIhC,EAAI,eAAF+C,OAAiBvB,EAAKwB,IAAG,YAAYzC,EAASuB,QAAO,QAArFL,EAAUE,EAAAM,KACZR,EAAWS,SACbvB,EAAYmB,MAAQL,EAAWU,OAAOc,SAAW,GAEjDC,QAAQC,MAAM,iCACf,QAAAxB,EAAAE,KAAA,iBAGHqB,QAAQC,MAAM,2DAA2D,QAAAxB,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAyB,GAAAzB,EAAA,YAG3EuB,QAAQC,MAAM,4BAA2BxB,EAAAyB,IAAS,QAE1B,OAF0BzB,EAAAC,KAAA,GAElDf,EAAUiB,OAAQ,EAAMH,EAAA0B,OAAA,6BAAA1B,EAAA2B,OAAA,GAAAlC,EAAA,yBAE3B,kBAhCmB,OAAAJ,EAAAuC,MAAA,KAAAC,UAAA,KAkCdC,EAAe,WACf7C,EAAqBkB,MAAQpB,EAAUoB,MAAM4B,OAAS,GACxD9C,EAAqBkB,OAEzB,E,OAEA6B,EAAAA,EAAAA,KAAU,WACR5C,GACF,I,i+ECjJM6C,EAAc,EAEpB,G","sources":["webpack://resep-bunda/./src/views/user/ExplanationPage.vue","webpack://resep-bunda/./src/views/user/ExplanationPage.vue?0a46"],"sourcesContent":["<template>\r\n  <ion-page>\r\n    <ion-header mode=\"ios\">\r\n      <ion-toolbar>\r\n        <ion-title>Pembahasan TO SNBT</ion-title>\r\n        <ion-back-button slot=\"start\" default-href=\"/\" />\r\n      </ion-toolbar>\r\n    </ion-header>\r\n\r\n    <ion-content :fullscreen=\"true\" class=\"exam-page\">\r\n      <ion-content class=\"ion-padding\">\r\n\r\n         <!-- Loading Indikator -->\r\n         <div v-if=\"isLoading\" class=\"loading-container\">\r\n          <ion-spinner name=\"crescent\"/>\r\n          <p>Memuat Data...</p>\r\n        </div>\r\n\r\n        <!-- No Data Found -->\r\n         <div v-else-if=\"isDataEmpty\" class=\"empty-container\">\r\n          <ion-text color=\"danger\">\r\n            <p>Ops, data tidak ditemukan</p>\r\n          </ion-text>\r\n         </div>\r\n\r\n        <div v-if=\"currentQuestionIndex < questions.length\">\r\n          <!-- Menampilkan Soal -->\r\n          <ion-card>\r\n            <ion-card-header>\r\n              <ion-card-title>\r\n                <div v-html=\"questions[currentQuestionIndex].question\"></div>\r\n              </ion-card-title>\r\n            </ion-card-header>\r\n            <ion-card-content>\r\n              <div v-if=\"questions[currentQuestionIndex].imageUrl\">\r\n                <ion-img :src=\"questions[currentQuestionIndex].imageUrl\"></ion-img>\r\n              </div>\r\n              <div v-if=\"questions[currentQuestionIndex].videoUrl\">\r\n                <video :src=\"questions[currentQuestionIndex].videoUrl\" controls></video>\r\n              </div>\r\n            </ion-card-content>\r\n          </ion-card>\r\n\r\n          <!-- Menampilkan Semua Pilihan Jawaban -->\r\n          <div class=\"options\">\r\n            <ion-card\r\n              v-for=\"(option, key) in questions[currentQuestionIndex].options\"\r\n              :key=\"key\"\r\n              :class=\"{ \r\n                'correct-answer': key === questions[currentQuestionIndex].correctAnswer,\r\n                'user-answer': key === userAnswers[currentQuestionIndex] \r\n              }\"\r\n            >\r\n              <ion-card-content>{{ option }}</ion-card-content>\r\n            </ion-card>\r\n          </div>\r\n\r\n          <!-- Menampilkan Jawaban Benar, Jawaban User, dan Pembahasan -->\r\n          <div class=\"explanation\">\r\n            <p><strong>Jawaban yang benar:</strong> {{ questions[currentQuestionIndex].options[questions[currentQuestionIndex].correctAnswer] }}</p>\r\n            <p><strong>Jawaban Anda:</strong> {{ questions[currentQuestionIndex].options[userAnswers[currentQuestionIndex]] }}</p>\r\n            <p><strong>Pembahasan:</strong></p>\r\n            <div v-html=\"questions[currentQuestionIndex].explanation\"></div>\r\n          </div>\r\n\r\n          <!-- Tombol Next untuk pindah ke soal berikutnya -->\r\n          <ion-button style=\"color: white\" expand=\"block\" @click=\"nextQuestion\">\r\n            {{ currentQuestionIndex === questions.length - 1 ? \"Selesai\" : \"Soal Berikutnya\" }}\r\n          </ion-button>\r\n        </div>\r\n      </ion-content>\r\n    </ion-content>\r\n  </ion-page>\r\n</template>\r\n\r\n<script setup>\r\nimport {\r\n  IonPage,\r\n  IonHeader,\r\n  IonToolbar,\r\n  IonTitle,\r\n  IonContent,\r\n  IonButton,\r\n  IonBackButton,\r\n  IonCard,\r\n  IonCardHeader,\r\n  IonCardTitle,\r\n  IonCardContent,\r\n  IonImg,\r\n  ionSpinner,\r\n} from \"@ionic/vue\";\r\nimport { ref, onMounted } from \"vue\";\r\nimport { getFirestore, doc, getDoc, collection, getDocs } from \"firebase/firestore\";\r\nimport { getAuth } from \"firebase/auth\";\r\nimport { useRoute } from \"vue-router\";\r\nimport { firebaseApp } from \"../firebase.js\";\r\n\r\nconst db = getFirestore(firebaseApp);\r\nconst auth = getAuth(firebaseApp);\r\nconst route = useRoute();\r\nconst jadwalId = ref(route.params.jadwalId);\r\nconst questions = ref([]);\r\nconst userAnswers = ref([]);\r\nconst currentQuestionIndex = ref(0);\r\n\r\nconst isLoading = ref(false);\r\nconst isDataEmpty = ref(false);\r\n\r\nconst fetchQuestions = async () => {\r\n  try {\r\n    isLoading.value = true;\r\n    const jadwalDoc = await getDoc(doc(db, \"jadwalsnbt\", jadwalId.value));\r\n    if (jadwalDoc.exists()) {\r\n      const jadwalData = jadwalDoc.data();\r\n      const questionsSnapshot = await getDocs(collection(db, \"soalsnbt\"));\r\n      questions.value = questionsSnapshot.docs\r\n        .map((doc) => ({\r\n          id: doc.id,\r\n          ...doc.data(),\r\n        }))\r\n        .filter((question) => jadwalData.soal && jadwalData.soal.includes(question.id));\r\n\r\n      // Ambil jawaban pengguna dari `examResults/answers`\r\n      const user = auth.currentUser;\r\n      if (user) {\r\n        const answersDoc = await getDoc(doc(db, `examResults/${user.uid}/answers`, jadwalId.value));\r\n        if (answersDoc.exists()) {\r\n          userAnswers.value = answersDoc.data().answers || [];\r\n        } else {\r\n          console.error(\"Data jawaban tidak ditemukan.\");\r\n        }\r\n      }\r\n    } else {\r\n      console.error(\"Dokumen jadwal tidak ditemukan di koleksi 'jadwalsnbt'.\");\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Error fetching documents:\", error);\r\n  }finally{\r\n    isLoading.value = false; \r\n  }\r\n};\r\n\r\nconst nextQuestion = () => {\r\n  if (currentQuestionIndex.value < questions.value.length - 1) {\r\n    currentQuestionIndex.value++;\r\n  }\r\n};\r\n\r\nonMounted(() => {\r\n  fetchQuestions();\r\n});\r\n</script>\r\n\r\n<style>\r\n.exam-page {\r\n  position: relative;\r\n}\r\n.options {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 10px;\r\n}\r\n.options ion-card {\r\n  flex: 1 1 calc(50% - 10px);\r\n  text-align: center;\r\n}\r\n.correct-answer {\r\n  border: 2px solid green;\r\n  background-color: #e6ffe6;\r\n}\r\n.user-answer {\r\n  border: 2px solid blue;\r\n  background-color: #e6f7ff;\r\n}\r\n.explanation {\r\n  margin-top: 20px;\r\n  padding: 15px;\r\n  background-color: #f9f9f9;\r\n  border-radius: 8px;\r\n}\r\n.loading-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 100vh; /* Mengisi seluruh tinggi layar */\r\n  text-align: center;\r\n}\r\n\r\n.loading-container ion-spinner {\r\n  margin-bottom: 10px; /* Spasi antara spinner dan teks */\r\n  --width: 50px;\r\n  --height: 50px;\r\n  animation: rotate 1.2s linear infinite; /* Animasi putaran spinner */\r\n}\r\n\r\n.empty-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 100vh;\r\n  text-align: center;\r\n  color: #888;\r\n}\r\n\r\n/* Optional: Animasi loading */\r\n@keyframes rotate {\r\n  0% {\r\n    transform: rotate(0deg);\r\n  }\r\n  100% {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n</style>\r\n","import script from \"./ExplanationPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ExplanationPage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ExplanationPage.vue?vue&type=style&index=0&id=41b760d1&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["db","getFirestore","firebaseApp","auth","getAuth","route","useRoute","jadwalId","ref","params","questions","userAnswers","currentQuestionIndex","isLoading","isDataEmpty","fetchQuestions","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","jadwalDoc","jadwalData","questionsSnapshot","user","answersDoc","wrap","_context","prev","next","value","getDoc","doc","sent","exists","data","getDocs","collection","docs","map","_objectSpread","id","filter","question","soal","includes","currentUser","concat","uid","answers","console","error","t0","finish","stop","apply","arguments","nextQuestion","length","onMounted","__exports__"],"sourceRoot":""}